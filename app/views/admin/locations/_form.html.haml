= hidden_field 'location', 'lock_version'
= render_region :form_top
  - render_region :form do |form|
    - form.edit_title do
    %p.title
      %label{ :for => "location_name" } Name
      = text_field "location", "name", :class => 'textbox', :maxlength => 100 
    - form.edit_full_address do
      %p.address
        %label{:for=>"location_full_address"} Full Address
        = text_area "location", "full_address", :class => 'textbox', :size => '30x3' 
        %span.help Required. The address is used for determining the latitude and longitude for searching and showing on the map. the preferred format is: "123 1 Ave, MyCity, AB, Canada, T0M 0R0"
    - Location.optional_fields.each do |field|
      - form.send('edit_'+field.to_s) do
        - if Location.enabled?(field)
          %p{:class=>field.to_s}
            %label.optional{:for=>"location_"+field.to_s}
              = field.to_s.humanize
            = text_field 'location', field.to_s, :class=>'textbox', :maxlength=>100, :size=>20
            - if Location.help[field]
              %span.help
                = Location.help[field]
    - form.edit_geocode do
      - if config['locations.allow_manual_geocoding?']
        %p.geocode
          %label{:for=>"location_latitude"} Latitude
          = text_field "location", "lat", :class => 'textbox', :maxlength => 100, :size=>10
          %label{:for=>"location_longitude"} Longitude
          = text_field "location", "lng", :class => 'textbox', :maxlength => 100, :size=>10
          %label
          = check_box  "location", "manual_geocode" 
          Manually Geocode this Location
          %span.help Auto-generated. Required if 'Manually Geocode this Location' is selected. The latitude and longitude are typically geocoded automatically. However some locations (particularly rural locations) cannot be easily geocoded. If you choose "manual geocoding" you will be able to set the latitude and longitude manually.
